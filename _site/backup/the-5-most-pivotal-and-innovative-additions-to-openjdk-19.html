<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="canonical" href="https://bazlur.ca/2022/09/20/the-5-most-pivotal-and-innovative-additions-to-openjdk-19/"><title>The 5 Most Pivotal and Innovative Additions to OpenJDK 19 | Bazlur’s Blog Archive</title><meta name="generator" content="Jekyll v3.9.5" /><meta property="og:title" content="The 5 Most Pivotal and Innovative Additions to OpenJDK 19" /><meta name="author" content="A N M Bazlur Rahman" /><meta property="og:locale" content="en_US" /><meta name="description" content="A comprehensive archive of articles on Java, Software Development, and Technology" /><meta property="og:description" content="A comprehensive archive of articles on Java, Software Development, and Technology" /><link rel="canonical" href="http://localhost:4001/backup/the-5-most-pivotal-and-innovative-additions-to-openjdk-19.html" /><meta property="og:url" content="http://localhost:4001/backup/the-5-most-pivotal-and-innovative-additions-to-openjdk-19.html" /><meta property="og:site_name" content="Bazlur’s Blog Archive" /><meta property="og:image" content="http://localhost:4001/assets/img/default-og.jpg" /><meta property="og:type" content="website" /><meta name="twitter:card" content="summary" /><meta property="twitter:image" content="http://localhost:4001/assets/img/default-og.jpg" /><meta property="twitter:title" content="The 5 Most Pivotal and Innovative Additions to OpenJDK 19" /><meta name="twitter:site" content="@bazlur_rahman" /><meta name="twitter:creator" content="@A N M Bazlur Rahman" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"A N M Bazlur Rahman","url":"https://bazlur.ca"},"description":"A comprehensive archive of articles on Java, Software Development, and Technology","headline":"The 5 Most Pivotal and Innovative Additions to OpenJDK 19","image":"http://localhost:4001/assets/img/default-og.jpg","url":"http://localhost:4001/backup/the-5-most-pivotal-and-innovative-additions-to-openjdk-19.html"}</script><style> /* Critical CSS - Inline for faster initial render */ :root { --primary-color: #2563eb; --secondary-color: #7c3aed; --text-color: #1f2937; --text-light: #6b7280; --bg-color: #ffffff; --bg-gray: #f9fafb; } * { margin: 0; padding: 0; box-sizing: border-box; } body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif; line-height: 1.6; color: var(--text-color); background: var(--bg-gray); } .wrapper { max-width: 1200px; margin: 0 auto; padding: 0 2rem; } header { background: var(--bg-color); box-shadow: 0 1px 3px rgba(0,0,0,0.1); position: sticky; top: 0; z-index: 100; } .site-nav { display: flex; justify-content: space-between; align-items: center; padding: 1rem 0; } .site-title { font-size: 1.5rem; font-weight: 700; color: var(--primary-color); text-decoration: none; } .nav-links { display: flex; gap: 2rem; list-style: none; } .nav-links a { color: var(--text-color); text-decoration: none; transition: color 0.2s; } .nav-links a:hover { color: var(--primary-color); } /* Above-the-fold home page styles */ .banner-container { margin: 2rem auto 3rem; text-align: center; } .ascii-banner { display: inline-block; font-family: 'JetBrains Mono', monospace; font-size: 11px; line-height: 1.2; color: var(--primary-color); } @media (max-width: 768px) { .wrapper { padding: 0 1rem; } .ascii-banner { font-size: 6px; } .nav-links { gap: 1rem; } }</style><link rel="preload" href="/assets/css/main.css?v=2" as="style" onload="this.onload=null;this.rel='stylesheet'"> <noscript><link rel="stylesheet" href="/assets/css/main.css?v=2"></noscript><link rel="alternate" type="application/rss+xml" title="Bazlur&#39;s Blog Archive" href="/feed.xml"><link rel="dns-prefetch" href="https://fonts.googleapis.com"><link rel="dns-prefetch" href="https://cdnjs.cloudflare.com"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500;600;700&display=swap" rel="stylesheet"><body><header class="site-header"><div class="header-wrapper"> <a class="site-title" href="/">Bazlur&#39;s Blog Archive</a> <button class="mobile-menu-toggle" aria-label="Toggle menu" aria-expanded="false"> <span class="hamburger"> <span></span> <span></span> <span></span> </span> </button><nav class="site-nav"> <a class="nav-link" href="/">Home</a> <a class="nav-link" href="/archive">Archive</a> <a class="nav-link" href="/tags">Tags</a> <a class="nav-link" href="/search">Search</a> <a class="nav-link" href="https://bazlur.com/conference/" target="_blank" rel="noopener">Speaking</a> <a class="nav-link" href="/about">About</a> <a class="nav-link nav-link-external" href="https://bazlur.ca" target="_blank" rel="noopener">Original Site →</a></nav></div></header><main class="page-content" aria-label="Content"><p><img src="/backup/images/cafe-g56e2bcea6-1920.jpg" alt="" /></p><h1 id="the-5-most-pivotal-and-innovative-additions-to-openjdk-19">The 5 Most Pivotal and Innovative Additions to OpenJDK 19</h1><p>Although <a href="https://foojay.io/today/openjdk-19-released/">OpenJDK 19</a> is not an LTS, it is still a significant release, in my opinion.</p><p>It includes several game-changing features that will alter the Java landscape.</p><p>Many features intrigue my interest, but there are five in particular that I can’t wait to try out. Let’s break those down and talk about them separately.</p><p><strong><a href="https://openjdk.org/jeps/425">JEP 425: Virtual Threads (Preview)</a></strong></p><p>Under the umbrella of Project Loom, JEP 425 introduces virtual threads, which aim to dramatically reduce the effort of writing, maintaining, and observing high-throughput concurrent applications on the Java platform. This is a <a href="https://openjdk.java.net/jeps/12">preview feature</a>. Consider the following example:</p><pre><code>public class Main {
    public static void main(String[] args) throws InterruptedException {
        var vThread = Thread.startVirtualThread(() -&gt; {
            System.out.println("Hello from the virtual thread");
        });

        vThread.join();
    }
}
</code></pre><p>Since this is a preview feature, a developer will need to provide the <strong>–enable-preview</strong> flag to compile this code, as shown in the following command:</p><p><code>javac --release 19 --enable-preview Main.java</code></p><p>The same flag is also required to run the program:</p><p><code>java --enable-preview Main</code></p><p>However, one can directly run this using the <a href="https://openjdk.java.net/jeps/330">source code launcher</a>. In that case, the command line would be:<br /> <code>java --source 19 --enable-preview Main.java</code></p><p>The <a href="https://docs.oracle.com/javase/9/jshell/introduction-jshell.htm#JSHEL-GUID-630F27C8-1195-4989-9F6B-2C51D46F52C8">jshell</a> option is also available but requires enabling the preview feature as well:</p><p><code>jshell --enable-preview</code></p><p>While <strong>Thread.startVirtualThread(Runnable)</strong> is the convenient way to create a virtual thread, new APIs like <a href="https://download.java.net/java/early_access/loom/docs/api/java.base/java/lang/Thread.Builder.html"><strong>Thread.Builder</strong></a>, <a href="https://download.java.net/java/early_access/loom/docs/api/java.base/java/lang/Thread.html#ofVirtual()"><strong>Thread.ofVirtual()</strong></a>, and <a href="https://download.java.net/java/early_access/loom/docs/api/java.base/java/lang/Thread.html#ofPlatform()"><strong>Thread.ofPlatform()</strong></a> were added to create virtual and platform threads.</p><p>If you want to know more about it, please, head over the my GitHub repository: <a href="https://github.com/rokon12/project-loom-slides-and-demo-code">https://github.com/rokon12/project-loom-slides-and-demo-code</a>.</p><p><br /></p><p><strong><a href="https://openjdk.org/jeps/428">JEP 428: Structured Concurrency (Incubator)</a></strong></p><p>Structured Concurrency allows you to treat multiple tasks running on different threads as an atomic operation, making multithreaded programming easier. As a result, error handling and cancellation will be simplified, reliability will increase, and observability will be boosted. Let’s see an example:</p><pre><code>Response handle() throws ExecutionException, InterruptedException {
   try (var scope = new StructuredTaskScope.ShutdownOnFailure()) {
       Future&lt;String&gt; user = scope.fork(() -&gt; findUser());
       Future&lt;Integer&gt; order = scope.fork(() -&gt; fetchOrder());

       scope.join();          // Join both forks
       scope.throwIfFailed(); // ... and propagate errors

       // Here, both forks have succeeded, so compose their results
       return new Response(user.resultNow(), order.resultNow());
   }
}
</code></pre><p>This API runs on top of JEP 425, <a href="https://openjdk.java.net/jeps/425">Virtual Threads (Preview)</a>, also targeted for JDK 19</p><p>Compile the above code as shown in the following command:</p><p><code>javac --release 19 --enable-preview --add-modules jdk.incubator.concurrent Main.java</code></p><p>The same flag is also required to run the program:</p><p><code>java --enable-preview --add-modules jdk.incubator.concurrent Main;</code></p><p>However, one can directly run this using the <a href="https://openjdk.java.net/jeps/330">source code launcher</a>. In that case, the command line would be:</p><p><code>java --source 19 --enable-preview --add-modules jdk.incubator.concurrent Main.java</code></p><p>The <a href="https://docs.oracle.com/javase/9/jshell/introduction-jshell.htm#JSHEL-GUID-630F27C8-1195-4989-9F6B-2C51D46F52C8">jshell</a> option is also available, but requires enabling the preview feature as well:</p><p><code>jshell --enable-preview --add-modules jdk.incubator.concurrent</code></p><p><a href="https://openjdk.org/jeps/427"><strong>JEP 427: Pattern Matching for switch (Third Preview)</strong></a></p><p>Pattern Machining (Third Preview) is to add a pattern for switch expressions and statements to the Java programming language. For concise and safe expression of complex data-oriented queries, it allows testing against multiple patterns, each with a distinct action. Consider the following example-</p><pre><code>package ca.bazlur;

public class PatternMatching {
  
  public static String transform(Integer status) {
    return switch (status) {
      case 200 -&gt; "Ok";
      case 301 -&gt; "Moved Permanently";
      case 404 -&gt; "Not found";
      case 500 -&gt; "Internal Server Error";
      case Number n when n.intValue() &gt;= 600 -&gt; "Invalid";
      default -&gt; "Valid";
    };
  }

  public static void main(String[] args) {
    System.out.println(transform(200));
    System.out.println(transform(600));
    System.out.println(transform(404));
  }
}
</code></pre><p>This is also a preview feature, requiring developers to add <code>--enable-preview</code>.</p><p><strong><a href="JEP-424: Foreign Function &amp; Memory API (Preview)">JEP-424: Foreign Function \&amp; Memory API (Preview)</a></strong></p><p>By utilizing the Foreign Function and Memory API, Java applications can talk to and use data that is not built into the JRE. Without the hassle and security concerns of the JNI, Java programs can now access native memory, invoke native functions, and process native data. Example-</p><pre><code>Linker linker = Linker.nativeLinker();
SymbolLookup stdlib = linker.defaultLookup();
MethodHandle radixSort = linker.downcallHandle(
                             stdlib.lookup("radixsort"), ...);
</code></pre><p>Developers who want to learn more about this JEP can leverage this series on Foojay: <a href="https://foojay.io/today/project-panama-for-newbies-part-1/">https://foojay.io/today/project-panama-for-newbies-part-1/</a></p><p><strong><a href="https://openjdk.org/jeps/405">JEP 405: Record Patterns (Preview)</a></strong></p><p>The purpose of Record Patterns is to enrich the language with record patterns that can be used to deconstruct record values. To “enable a robust, declarative, and composable form of data navigation and processing,” record patterns can be combined with type patterns.</p><p>Let’s consider the following example-</p><pre><code>package ca.bazlur;

import java.util.stream.Stream;

public class Main {

  public static void main(String[] args) {
    var s1 = new Circle(5);
    var s2 = new Rectangle(2, 4);
    var s3 = new Triangle(3, 5);

    Stream.of(s1, s2, s3, 42).forEach(e -&gt; {
      var area = switch (e) {
        case Circle c -&gt; "Radius of the circle: " + c.radius + " and area: "+ c.area();
        case Rectangle r -&gt; "Height "+ r.height + ", width: "+ r.width +" and the area of Rectangle: " + r.area();
        case Shape s -&gt; "Area of the Shape: " + s.area();
        case Integer n -&gt; "It is: " + n;
        default -&gt; "not supported";
      };
      System.out.println(area);
    });
  }


  private interface Shape {

    int area();
  }

  record Triangle(int baseLength, int height) implements Shape {

    @Override
    public int area() {
      return baseLength * this.height / 2;
    }
  }

  record Rectangle(int height, int width) implements Shape {

    @Override
    public int area() {
      return height * width;
    }
  }

  record Circle(int radius) implements Shape {

    @Override
    public int area() {
      return (int) (Math.pow(this.radius, 2) * Math.PI);
    }
  }
}
</code></pre><p>Since this is also a <a href="https://openjdk.java.net/jeps/12">preview feature</a>, developers require adding <code>--enable-preview</code> while compiling the above example.</p><p><strong>Conclusion:</strong></p><p>There you have it; those are the five features I have been looking forward to most.</p><p>Please keep in mind that none of these features should be used in a production setting without first going through the preview process.</p><p>However, it is always recommended to try them, and feedback is greatly appreciated if an issue is found.</p><p>This set of features, however, is all we expect to see in the upcoming LTS version.</p><p>Finally, if you liked this article and want to read more like it in the future, <a href="https://twitter.com/bazlur_rahman">follow me on Twitter</a> (why wouldn’t you?).</p><hr /><h3 id="discover-more-from-a-n-m-bazlur-rahman">Discover more from A N M Bazlur Rahman</h3><p>Subscribe to get the latest posts sent to your email.<br /> Type your email… {#subscribe-email}</p><p>Subscribe {#subscribe-submit}</p></main><footer class="site-footer"><div class="footer-content"><p>A comprehensive archive of articles on Java, Software Development, and Technology</p><p>© 2025 A N M Bazlur Rahman. All articles are archived from <a href="https://bazlur.ca">bazlur.ca</a></p><p> <a href="/feed.xml">RSS Feed</a> • <a href="https://twitter.com/bazlur_rahman">Twitter</a> • <a href="https://github.com/rokon12">GitHub</a></p></div></footer><script> // Fade-in animations on scroll document.addEventListener('DOMContentLoaded', function() { const observerOptions = { threshold: 0.1, rootMargin: '0px 0px -100px 0px' }; const observer = new IntersectionObserver(function(entries) { entries.forEach(entry => { if (entry.isIntersecting) { entry.target.classList.add('visible'); observer.unobserve(entry.target); } }); }, observerOptions); // Observe fade-in elements document.querySelectorAll('.fade-in, .fade-in-up, .fade-in-left, .fade-in-right, .stagger-animation').forEach(el => { observer.observe(el); }); // Add fade-in classes to post cards document.querySelectorAll('.post-card').forEach((card, index) => { card.classList.add('fade-in-up'); card.style.transitionDelay = `${index * 0.1}s`; }); // Removed duplicate image observer - handled by image-optimization.js }); </script> <script defer src="/assets/js/terminal.js"></script> <script defer src="/assets/js/image-optimization.js"></script> <script> if ('loading' in HTMLImageElement.prototype) { const images = document.querySelectorAll('img[loading="lazy"]'); images.forEach(img => { img.src = img.dataset.src || img.src; }); } else { // Fallback for browsers that don't support lazy loading const script = document.createElement('script'); script.src = 'https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.3.2/lazysizes.min.js'; document.body.appendChild(script); } </script> <script> document.addEventListener('DOMContentLoaded', function() { // Mobile menu toggle const mobileMenuToggle = document.querySelector('.mobile-menu-toggle'); const siteNav = document.querySelector('.site-nav'); if (mobileMenuToggle) { mobileMenuToggle.addEventListener('click', function() { const isExpanded = this.getAttribute('aria-expanded') === 'true'; this.setAttribute('aria-expanded', !isExpanded); siteNav.classList.toggle('is-active'); document.body.classList.toggle('menu-open'); }); // Close menu when clicking outside document.addEventListener('click', function(e) { if (!e.target.closest('.site-header') && siteNav.classList.contains('is-active')) { mobileMenuToggle.setAttribute('aria-expanded', 'false'); siteNav.classList.remove('is-active'); document.body.classList.remove('menu-open'); } }); } // Initialize theme const savedTheme = localStorage.getItem('theme') || 'dark'; document.documentElement.setAttribute('data-theme', savedTheme); // Global search shortcut document.addEventListener('keydown', function(e) { // Focus search with / if (e.key === '/' && !e.metaKey && !e.ctrlKey) { const searchInput = document.querySelector('.quick-search-input') || document.querySelector('#search-input'); if (searchInput && document.activeElement !== searchInput) { e.preventDefault(); searchInput.focus(); document.body.classList.add('search-focused'); } } // Clear focus on ESC if (e.key === 'Escape') { const searchInput = document.querySelector('.quick-search-input') || document.querySelector('#search-input'); if (searchInput && document.activeElement === searchInput) { searchInput.blur(); searchInput.value = ''; document.body.classList.remove('search-focused'); } } }); }); </script> <button class="back-to-top" id="back-to-top" aria-label="Back to top"> <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="18 15 12 9 6 15"></polyline> </svg> </button> <script> document.addEventListener('DOMContentLoaded', function() { const backToTopButton = document.getElementById('back-to-top'); // Show/hide button based on scroll position function toggleBackToTop() { if (window.scrollY > 300) { backToTopButton.classList.add('visible'); } else { backToTopButton.classList.remove('visible'); } } // Throttle scroll events let isScrolling = false; window.addEventListener('scroll', function() { if (!isScrolling) { window.requestAnimationFrame(function() { toggleBackToTop(); isScrolling = false; }); isScrolling = true; } }); // Smooth scroll to top backToTopButton.addEventListener('click', function() { window.scrollTo({ top: 0, behavior: 'smooth' }); }); // Initial check toggleBackToTop(); }); </script> <script> if ('serviceWorker' in navigator) { window.addEventListener('load', function() { navigator.serviceWorker.register('/sw.js').then(function(registration) { console.log('ServiceWorker registration successful'); }, function(err) { console.log('ServiceWorker registration failed: ', err); }); }); } </script>