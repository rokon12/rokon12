<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="canonical" href="https://bazlur.ca/2023/02/20/java-sealed-classes-in-action-building-robust-and-secure-applications/"><title>Java Sealed Classes in Action: Building Robust and Secure Applications | Bazlur’s Blog Archive</title><meta name="generator" content="Jekyll v3.9.5" /><meta property="og:title" content="Java Sealed Classes in Action: Building Robust and Secure Applications" /><meta name="author" content="A N M Bazlur Rahman" /><meta property="og:locale" content="en_US" /><meta name="description" content="A comprehensive archive of articles on Java, Software Development, and Technology" /><meta property="og:description" content="A comprehensive archive of articles on Java, Software Development, and Technology" /><link rel="canonical" href="http://localhost:4001/2023/02/20/java-sealed-classes-in-action-building-robust-and-secure-applications/" /><meta property="og:url" content="http://localhost:4001/2023/02/20/java-sealed-classes-in-action-building-robust-and-secure-applications/" /><meta property="og:site_name" content="Bazlur’s Blog Archive" /><meta property="og:image" content="http://localhost:4001/assets/img/default-og.jpg" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2023-02-20T00:00:00-05:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:image" content="http://localhost:4001/assets/img/default-og.jpg" /><meta property="twitter:title" content="Java Sealed Classes in Action: Building Robust and Secure Applications" /><meta name="twitter:site" content="@bazlur_rahman" /><meta name="twitter:creator" content="@A N M Bazlur Rahman" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"A N M Bazlur Rahman"},"dateModified":"2023-02-20T00:00:00-05:00","datePublished":"2023-02-20T00:00:00-05:00","description":"A comprehensive archive of articles on Java, Software Development, and Technology","headline":"Java Sealed Classes in Action: Building Robust and Secure Applications","image":"http://localhost:4001/assets/img/default-og.jpg","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4001/2023/02/20/java-sealed-classes-in-action-building-robust-and-secure-applications/"},"url":"http://localhost:4001/2023/02/20/java-sealed-classes-in-action-building-robust-and-secure-applications/"}</script><style> /* Critical CSS - Inline for faster initial render */ :root { --primary-color: #2563eb; --secondary-color: #7c3aed; --text-color: #1f2937; --text-light: #6b7280; --bg-color: #ffffff; --bg-gray: #f9fafb; } * { margin: 0; padding: 0; box-sizing: border-box; } body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif; line-height: 1.6; color: var(--text-color); background: var(--bg-gray); } .wrapper { max-width: 1200px; margin: 0 auto; padding: 0 2rem; } header { background: var(--bg-color); box-shadow: 0 1px 3px rgba(0,0,0,0.1); position: sticky; top: 0; z-index: 100; } .site-nav { display: flex; justify-content: space-between; align-items: center; padding: 1rem 0; } .site-title { font-size: 1.5rem; font-weight: 700; color: var(--primary-color); text-decoration: none; } .nav-links { display: flex; gap: 2rem; list-style: none; } .nav-links a { color: var(--text-color); text-decoration: none; transition: color 0.2s; } .nav-links a:hover { color: var(--primary-color); } /* Above-the-fold home page styles */ .banner-container { margin: 2rem auto 3rem; text-align: center; } .ascii-banner { display: inline-block; font-family: 'JetBrains Mono', monospace; font-size: 11px; line-height: 1.2; color: var(--primary-color); } @media (max-width: 768px) { .wrapper { padding: 0 1rem; } .ascii-banner { font-size: 6px; } .nav-links { gap: 1rem; } }</style><link rel="preload" href="/assets/css/main.css?v=2" as="style" onload="this.onload=null;this.rel='stylesheet'"> <noscript><link rel="stylesheet" href="/assets/css/main.css?v=2"></noscript><link rel="alternate" type="application/rss+xml" title="Bazlur&#39;s Blog Archive" href="/feed.xml"><link rel="dns-prefetch" href="https://fonts.googleapis.com"><link rel="dns-prefetch" href="https://cdnjs.cloudflare.com"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500;600;700&display=swap" rel="stylesheet"><link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" media="print" onload="this.media='all'" /><link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" media="print" onload="this.media='all'" /><link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.css" rel="stylesheet" media="print" onload="this.media='all'" /><body><header class="site-header"><div class="header-wrapper"> <a class="site-title" href="/">Bazlur&#39;s Blog Archive</a> <button class="mobile-menu-toggle" aria-label="Toggle menu" aria-expanded="false"> <span class="hamburger"> <span></span> <span></span> <span></span> </span> </button><nav class="site-nav"> <a class="nav-link" href="/">Home</a> <a class="nav-link" href="/archive">Archive</a> <a class="nav-link" href="/tags">Tags</a> <a class="nav-link" href="/search">Search</a> <a class="nav-link" href="https://bazlur.com/conference/" target="_blank" rel="noopener">Speaking</a> <a class="nav-link" href="/about">About</a> <a class="nav-link nav-link-external" href="https://bazlur.ca" target="_blank" rel="noopener">Original Site →</a></nav></div></header><main class="page-content" aria-label="Content"><article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting"><div class="post-hero-image"> <img src="/images/sippakorn-yamkasikorn-eyyx5sdusno-unsplash-scaled.jpg" alt="Java Sealed Classes in Action: Building Robust and Secure Applications" itemprop="image"><div class="hero-overlay"></div></div><div class="post-header with-hero"><div class="wrapper"><h1 class="post-title p-name" itemprop="name headline">Java Sealed Classes in Action: Building Robust and Secure Applications</h1><p class="post-meta"> <time class="dt-published" datetime="2023-02-19T19:00:00-05:00" itemprop="datePublished"> February 20, 2023 </time> • <span itemprop="author" itemscope itemtype="http://schema.org/Person"> <span class="p-author h-card" itemprop="name">A N M Bazlur Rahman</span> </span></p><div class="post-tags-header"> <a href="/tags/sealed%20classes/" class="post-tag-badge">sealed classes</a> <a href="/tags/java%2015/" class="post-tag-badge">java 15</a> <a href="/tags/design%20patterns/" class="post-tag-badge">design patterns</a> <a href="/tags/type%20safety/" class="post-tag-badge">type safety</a> <a href="/tags/inheritance%20control/" class="post-tag-badge">inheritance control</a></div></div></div><div class="wrapper post-wrapper-with-toc"><div class="post-container"><div class="post-content e-content" itemprop="articleBody"><p><img src="/images/sippakorn-yamkasikorn-eyyx5sdusno-unsplash-scaled.jpg" alt="" /></p><h1 id="java-sealed-classes-in-action-building-robust-and-secure-applications">Java Sealed Classes in Action: Building Robust and Secure Applications</h1><p>Java sealed classes were introduced in Java 15 as a way to restrict the inheritance hierarchy of a class or interface.</p><p>A sealed class or interface restricts the set of classes that can implement or extend it, which can help prevent bugs and make code more maintainable.</p><p>Suppose you’re building an e-commerce application that supports different payment methods, such as credit cards, PayPal, and Bitcoin. You could define a sealed class called PaymentMethod that permits various subclasses for each payment method:</p><pre><code class="language-java">public sealed class PaymentMethod permits CreditCard, PayPal, Bitcoin {
    // Class members
}
</code></pre><p>In this example, PaymentMethod is a sealed class that permits CreditCard, PayPal, and Bitcoin to extend it. A sealed class can permit any number of classes to extend it by specifying them in a comma-separated list after the permits keyword.</p><p>There are plenty of other use cases where the sealed class can be used to make our life easy.</p><p>So let’s go for a deep dive!</p><h3 id="creating-a-closed-type-hierarchy">Creating a Closed Type Hierarchy</h3><p>Sealed classes can create a closed-type hierarchy, a limited set of classes that cannot be extended or implemented outside a particular package.</p><p>This ensures that only a specified set of classes can be used and prevents unwanted extensions or implementations.</p><pre><code class="language-java">package ca.bazlur

public sealed class Animal permits Cat, Dog {
    // Class definition
}

public final class Cat extends Animal {
    // Class definition
}

public final class Dog extends Animal {
    // Class definition
}
</code></pre><p>In this example, Animal is a sealed class that only permits Cat and Dog to extend it.</p><p>Any other attempt to extend Animal will result in a compilation error.</p><h3 id="creating-a-limited-set-of-implementations">Creating a Limited Set of Implementations</h3><p>Sealed classes can also create a limited set of implementations for a specific interface or abstract class. This ensures that the interface or abstract class owners can control and change the set of implementations.</p><pre><code class="language-java">public sealed interface Shape permits Circle, Square {
    double getArea();
}

public final class Circle implements Shape {
    // Class definition
}

public final class Square implements Shape {
    // Class definition
}
</code></pre><p>In this example, Shape is a sealed interface that only permits Circle and Square to implement it.</p><p>This ensures that any other implementations of Shape cannot be created.</p><h3 id="enhancing-pattern-matching-in-switch-statements">Enhancing Pattern Matching in switch Statements</h3><p>Sealed classes can also be used to enhance pattern matching in switch statements.</p><p>By limiting the set of subtypes that can extend a sealed class, developers can use pattern matching with exhaustive checks, ensuring that all possible subtypes are covered.</p><pre><code class="language-java">public sealed abstract class PaymentMethod permits CreditCard, DebitCard, PayPal {
    // Class definition
}

public class PaymentProcessor {
    public void processPayment(PaymentMethod paymentMethod, double amount) {
        switch (paymentMethod) {
            case CreditCard cc -&gt; {
                // Process credit card payment
            }
            case DebitCard dc -&gt; {
                // Process debit card payment
            }
            case PayPal pp -&gt; {
                // Process PayPal payment
            }
           
        }
    }
}
</code></pre><p>In this example, PaymentMethod is a sealed class that permits CreditCard, DebitCard, and PayPal to extend it.</p><p>The processPayment method in the PaymentProcessor class uses a switch statement with pattern matching to process different payment methods.</p><p>Using a sealed class ensures that all possible subtypes are covered in the switch statement, making it less error-prone.</p><h3 id="implementing-a-state-machine">Implementing a State Machine</h3><p>Sealed classes can be used to implement a state machine, a computational model that defines the behaviour of a system in response to a series of inputs. In a state machine, each state is represented by a sealed class, and the transitions between states are modelled by methods that return a new state.</p><pre><code class="language-java">public sealed class State permits IdleState, ActiveState, ErrorState {
    public State transition(Input input) {
        // Transition logic
    }
}

public final class IdleState extends State {
    // Class definition
}

public final class ActiveState extends State {
    // Class definition
}

public final class ErrorState extends State {
    // Class definition
}
</code></pre><p>In this example, State is a sealed class that permits the extend of IdleState, ActiveState, and ErrorState.</p><p>The transition method is responsible for transitioning between states based on the input provided.</p><p>The use of sealed classes ensures that the state machine is well-defined and can only be extended with a limited set of classes.</p><h3 id="creating-a-limited-set-of-exceptions">Creating a Limited Set of Exceptions</h3><p>Sealed classes can also create a limited set of exceptions that can be thrown by a method. This can help enforce a consistent set of error conditions and prevent the creation of arbitrary exception types.</p><pre><code class="language-java">public sealed class DatabaseException extends Exception permits ConnectionException, QueryException {
    // Class definition
}

public final class ConnectionException extends DatabaseException {
    // Class definition
}

public final class QueryException extends DatabaseException {
    // Class definition
}
</code></pre><p>In this example, DatabaseException is a sealed class that permits ConnectionException and QueryException to extend it.</p><p>This ensures that any exception thrown by a method related to a database operation is a well-defined type and can be handled consistently.</p><h3 id="controlling-access-to-constructors">Controlling Access to Constructors</h3><p>Sealed classes can also control access to constructors, which can help enforce a specific set of invariants for the class.</p><pre><code class="language-java">public sealed class Person {
    private final String name;
    private final int age;

    private Person(String name, int age) {
        this.name = name;
        this.age = age;
    }

    public static final class Child extends Person {
        public Child(String name, int age) {
            super(name, age);
            if (age &gt;= 18) {
                throw new IllegalArgumentException("Children must be under 18 years old.");
            }
        }
    }

    public static final class Adult extends Person {
        public Adult(String name, int age) {
            super(name, age);
            if (age &lt; 18) {
                throw new IllegalArgumentException("Adults must be 18 years old or older.");
            }
        }
    }
}
</code></pre><p>In this example, a Person is a sealed class with two subclasses: Child and Adult.</p><p>The constructors for Child and Adult are marked as public, but the constructor for Person is marked as private, ensuring all Person instances are created through its subclasses.</p><p>This enables the Person to enforce the invariant that children must be under 18 years old and adults must be 18 years old or older.</p><h3 id="improving-code-security">Improving Code Security</h3><p>Sealed classes can also improve code security by ensuring that only trusted code can extend or implement them. This can help prevent unauthorized access to sensitive parts of the codebase.</p><pre><code class="language-java">public sealed class SecureCode permits TrustedCode {
    // Class definition
}

// Trusted code
public final class TrustedCode extends SecureCode {
    // Class definition
}

// Untrusted code
public final class UntrustedCode extends SecureCode {
    // Class definition
}
</code></pre><p>In this example, SecureCode is a sealed class that only permits TrustedCode to extend it.</p><p>This ensures that only trusted code can access the sensitive parts of the codebase.</p><h3 id="enabling-polymorphism-with-exhaustive-pattern-matching">Enabling Polymorphism with Exhaustive Pattern Matching</h3><p>Sealed classes can also be used to enable polymorphism with exhaustive pattern matching.</p><p>By using sealed classes, developers can ensure that all possible subtypes are covered in a pattern-matching statement, enabling safer and more efficient code.</p><pre><code class="language-java">public sealed class Shape permits Circle, Square {
    // Class definition
}

public final class Circle extends Shape {
    // Class definition
}

public final class Square extends Shape {
    // Class definition
}

public void drawShape(Shape shape) {
    switch (shape) {
        case Circle c -&gt; c.drawCircle();
        case Square s -&gt; s.drawSquare();
    }
}
</code></pre><p>In this example, Shape is a sealed class that permits Circle and Square to extend it.</p><p>The drawShape method uses pattern matching to draw the shape, ensuring that all possible subtypes of Shape are covered in the switch statement.</p><h3 id="enhancing-code-readability">Enhancing Code Readability</h3><p>Sealed classes can also be used to enhance code readability by clearly defining the set of possible subtypes.</p><p>By limiting the set of possible subtypes, developers can more easily reason about the code and understand its behaviour.</p><pre><code class="language-java">public sealed class Fruit permits Apple, Banana, Orange {
    // Class definition
}

public final class Apple extends Fruit {
    // Class definition
}

public final class Banana extends Fruit {
    // Class definition
}

public final class Orange extends Fruit {
    // Class definition
}
</code></pre><p>In this example, Fruit is a sealed class that permits Apple, Banana, and Orange to extend it.</p><p>This clearly defines the set of possible fruits and enhances code readability by making the code easier to understand.</p><h3 id="enforcing-api-contracts">Enforcing API Contracts</h3><p>Sealed classes can also be used to enforce API contracts, which are the set of expectations that consumers of an API have regarding its behavior.</p><p>By using sealed classes, API providers can ensure that the set of possible subtypes is well-defined and documented, improving the API’s usability and maintainability.</p><pre><code class="language-java">public sealed class Vehicle permits Car, Truck, Motorcycle {
    // Class definition
}

public final class Car extends Vehicle {
    // Class definition
}

public final class Truck extends Vehicle {
    // Class definition
}

public final class Motorcycle extends Vehicle {
    // Class definition
}
</code></pre><p>In this example, Vehicle is a sealed class that permits Car, Truck, and Motorcycle to extend it.</p><p>By using a sealed class to define the set of possible vehicle types, API providers can ensure that the API contract is well-defined and enforceable.</p><h3 id="preventing-unwanted-subtype-extensions">Preventing Unwanted Subtype Extensions</h3><p>Finally, sealed classes can also be used to prevent unwanted subtype extensions.</p><p>By limiting the set of possible subtypes, developers can prevent the creation of arbitrary subclasses that do not conform to the class’s intended behavior.</p><pre><code class="language-java">public sealed class PaymentMethod {
    // Class definition
}

public final class CreditCard extends PaymentMethod {
    // Class definition
}

public final class DebitCard extends PaymentMethod {
    // Class definition
}

public class StolenCard extends PaymentMethod {
    // Class definition
}
</code></pre><p>In this example, PaymentMethod is a sealed class that does not permit any subtypes to extend it.</p><p>This prevents the creation of the StolenCard class, which does not conform to the intended behavior of the PaymentMethod class.</p><h3 id="enhancing-type-safety-of-collections">Enhancing Type Safety of Collections</h3><p>Sealed classes can also enhance the type safety of collections, which are a fundamental part of the Java language.</p><p>By using sealed classes to define the set of possible elements in a collection, developers can ensure that the collection is type-safe and can enforce certain invariants.</p><pre><code class="language-java">public sealed interface Animal permits Dog, Cat, Bird {
    // Interface definition
}

public final class Dog implements Animal {
    // Class definition
}

public final class Cat implements Animal {
    // Class definition
}

public final class Bird implements Animal {
    // Class definition
}
</code></pre><p>In this example, Animal is a sealed interface that permits Dog, Cat, and Bird to implement it.</p><p>By using sealed classes to define the set of possible animals, developers can ensure that a collection of animals is type-safe and can enforce certain invariants.</p><pre><code class="language-java">List animals = List.of(new Dog(), new Cat(), new Bird());
</code></pre><p>In this example, animal is a List of elements that extend the Animal interface.</p><p>Because Animal is a sealed interface, the set of possible elements in the list is well-defined and type-safe.</p><h3 id="facilitating-api-evolution">Facilitating API Evolution</h3><p>Sealed classes can also facilitate API evolution, which is updating an API to add or remove features.</p><p>By using sealed classes to define the set of possible classes that can extend or implement a specific class or interface, developers can ensure that API changes are compatible with existing code.</p><pre><code class="language-java">public sealed class Animal permits Dog, Cat {
    // Class definition
}

public final class Dog extends Animal {
    // Class definition
}

public final class Cat extends Animal {
    // Class definition
}

public final class Bird extends Animal {
    // Class definition
}
</code></pre><p>In this example, Animal is a sealed class that permits Dog and Cat to extend it.</p><p>Because Animal is a sealed class, adding a new subtype, Bird would be a breaking change and would require an API version bump.</p><p>This ensures that API changes are compatible with existing code and can help maintain the stability of the codebase.</p><hr /><p>Here are a few more concrete and real-life examples of how sealed classes can be used in Java development:</p><h3 id="representing-different-types-of-messages">Representing Different Types of Messages</h3><p>In many distributed systems, messages pass data between different components or services.</p><p>Sealed classes can represent different types of messages and ensure that each type is well-defined and type-safe.</p><pre><code class="language-java">public sealed interface Message permits RequestMessage, ResponseMessage {
    // Interface definition
}

public final class RequestMessage implements Message {
    // Class definition
}

public final class ResponseMessage implements Message {
    // Class definition
}
</code></pre><p>In this example, Message is a sealed interface that permits RequestMessage and ResponseMessage to implement it.</p><p>By using sealed classes, developers can ensure that each message type is well-defined and type-safe, which can help prevent bugs and improve the maintainability of the code.</p><h3 id="defining-a-set-of-domain-objects">Defining a Set of Domain Objects</h3><p>In domain-driven design, domain objects represent the concepts and entities in a business domain.</p><p>Sealed classes can define a set of domain objects and ensure that each object type is well-defined and has a limited set of possible subtypes.</p><pre><code class="language-java">public sealed interface OrderItem permits ProductItem, ServiceItem {
    // Interface definition
}

public final class ProductItem implements OrderItem {
    // Class definition
}

public final class ServiceItem implements OrderItem {
    // Class definition
}
</code></pre><p>In this example, OrderItem is a sealed interface that permits ProductItem and ServiceItem to implement it.</p><p>By using sealed classes, developers can ensure that each domain object is well-defined and has a limited set of possible subtypes, which can help prevent the introduction of bugs and make the code more maintainable.</p><h3 id="representing-different-types-of-users">Representing Different Types of Users</h3><p>In many systems, users represent individuals who interact with the system somehow. Sealed classes can represent different types of users and ensure that each type is well-defined and type-safe.</p><pre><code class="language-java">public sealed class User permits Customer, Employee, Admin {
    // Class definition
}

public final class Customer extends User {
    // Class definition
}

public final class Employee extends User {
    // Class definition
}

public final class Admin extends User {
    // Class definition
}
</code></pre><p>In this example, User is a sealed class that permits Customer, Employee, and Admin to extend it.</p><p>By using sealed classes, developers can ensure that each user type is well-defined and type-safe, which can help prevent bugs and make the code more maintainable.</p><h3 id="defining-a-limited-set-of-error-types">Defining a Limited Set of Error Types</h3><p>In many systems, errors signal that something has gone wrong during the execution of a program.</p><p>Sealed classes can define a limited set of error types and ensure that each type is well-defined and has a limited set of possible subtypes.</p><pre><code class="language-java">public sealed class Error permits NetworkError, DatabaseError, SecurityError {
    // Class definition
}

public final class NetworkError extends Error {
    // Class definition
}

public final class DatabaseError extends Error {
    // Class definition
}

public final class SecurityError extends Error {
    // Class definition
}
</code></pre><p>In this example, Error is a sealed class that permits NetworkError, DatabaseError, and SecurityError to extend it.</p><p>By using sealed classes to define a limited set of error types, developers can ensure that each error type is well-defined and has a limited set of possible subtypes, which can help make the code more maintainable and easier to reason about.</p><h3 id="defining-a-limited-set-of-http-methods">Defining a Limited Set of HTTP Methods</h3><p>In many web applications, HTTP methods interact with web resources such as URLs.</p><p>Sealed classes can define a limited set of HTTP methods and ensure that each method is well-defined and has a limited set of possible subtypes.</p><pre><code class="language-java">public sealed class HttpMethod permits GetMethod, PostMethod, PutMethod {
    // Class definition
}

public final class GetMethod extends HttpMethod {
    // Class definition
}

public final class PostMethod extends HttpMethod {
    // Class definition
}

public final class PutMethod extends HttpMethod {
    // Class definition
}
</code></pre><p>In this example, HttpMethod is a sealed class that permits GetMethod, PostMethod, and PutMethod to extend it.</p><p>By using sealed classes to define a limited set of HTTP methods, developers can ensure that each method is well-defined and has a limited set of possible subtypes.</p><p>This can help make the code more maintainable and easier to reason about.</p><h3 id="defining-a-limited-set-of-configuration-parameters">Defining a Limited Set of Configuration Parameters</h3><p>In many systems, configuration parameters are used to control the behaviour of a program.</p><p>Sealed classes can define a limited set of configuration parameters and ensure that each parameter is well-defined and has a limited set of possible subtypes.</p><pre><code class="language-java">public sealed class ConfigurationParameter permits DebugMode, LoggingLevel {
    // Class definition
}

public final class DebugMode extends ConfigurationParameter {
    // Class definition
}

public final class LoggingLevel extends ConfigurationParameter {
    // Class definition
}
</code></pre><p>In this example, ConfigurationParameter is a sealed class that permits DebugMode and LoggingLevel to extend it.</p><p>By using sealed classes to define a limited set of configuration parameters, developers can ensure that each parameter is well-defined and has a limited set of possible subtypes.</p><p>This can help make the code more maintainable and easier to reason about.</p><h3 id="defining-a-limited-set-of-database-access-strategies">Defining a Limited Set of Database Access Strategies</h3><p>In many systems, databases are used to store and retrieve data.</p><p>Sealed classes can define a limited set of database access strategies and ensure that each strategy is well-defined and has a limited set of possible subtypes.</p><pre><code class="language-java">public sealed class DatabaseAccessStrategy permits JdbcStrategy, JpaStrategy, HibernateStrategy {
    // Class definition
}

public final class JdbcStrategy extends DatabaseAccessStrategy {
    // Class definition
}

public final class JpaStrategy extends DatabaseAccessStrategy {
    // Class definition
}

public final class HibernateStrategy extends DatabaseAccessStrategy {
    // Class definition
}
</code></pre><p>In this example, DatabaseAccessStrategy is a sealed class that permits JdbcStrategy, JpaStrategy, and HibernateStrategy to extend it.</p><p>By using sealed classes to define a limited set of database access strategies, developers can ensure that each strategy is well-defined and has a limited set of possible subtypes, which can help make the code more maintainable and easier to reason about.</p><h3 id="defining-a-limited-set-of-authentication-methods">Defining a Limited Set of Authentication Methods</h3><p>In many systems, authentication is used to verify the identity of users.</p><p>Sealed classes can define a limited set of authentication methods and ensure that each method is well-defined and has a limited set of possible subtypes.</p><pre><code class="language-java">public sealed class AuthenticationMethod permits PasswordMethod, TokenMethod, BiometricMethod {
    // Class definition
}

public final class PasswordMethod extends AuthenticationMethod {
    // Class definition
}

public final class TokenMethod extends AuthenticationMethod {
    // Class definition
}

public final class BiometricMethod extends AuthenticationMethod {
    // Class definition
}
</code></pre><p>In this example, AuthenticationMethod is a sealed class that permits PasswordMethod, TokenMethod, and BiometricMethod to extend it.</p><p>By using sealed classes to define a limited set of authentication methods, developers can ensure that each method is well-defined and has a limited set of possible subtypes.</p><p>This can help make the code more maintainable and easier to reason about.</p><h3 id="conclusion">Conclusion</h3><p>In conclusion, Java sealed classes are a powerful feature that can help you create more robust and maintainable code by restricting the inheritance hierarchy of your classes and interfaces.</p><p>By limiting the set of permitted subclasses or implementers, you can prevent bugs and ensure that your code is more secure and easier to maintain.</p><p>By mastering Java-sealed classes, you can take your programming skills to the next level and build better software.</p><hr /><p>Type your email… {#subscribe-email}</p></div></div><div class="original-article-notice"><p>✨ This article was originally published at <a href="https://bazlur.ca/2023/02/20/java-sealed-classes-in-action-building-robust-and-secure-applications/" target="_blank" rel="noopener">https://bazlur.ca/2023/02/20/java-sealed-classes-in-action-building-robust-and-secure-applications/</a></p></div><div class="newsletter-cta"><div class="newsletter-content"><h3>📬 Stay Updated with My Newsletter</h3><p>Want to keep in touch and learn more about:</p><ul><li>☕ Java & all the new features coming along<li>🧵 Concurrency & Virtual Threads<li>🧠 LLMs, LangChain4j & AI Integration<li>🚀 Quarkus, Spring & Jakarta EE</ul><p>Subscribe to my newsletter for regular updates, tips, and insights delivered straight to your inbox!</p><a href="https://bazlur.substack.com/" target="_blank" rel="noopener" class="newsletter-button"> Subscribe Now </a></div></div><div class="social-follow-cta"><h3>🌐 Let's Connect!</h3><p>Follow me on social media for more updates, insights, and discussions:</p><div class="social-links-grid"> <a href="https://www.linkedin.com/in/bazlur/" target="_blank" rel="noopener" class="social-link linkedin"> <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/> </svg> LinkedIn </a> <a href="https://x.com/bazlur_rahman" target="_blank" rel="noopener" class="social-link twitter"> <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/> </svg> X (Twitter) </a> <a href="https://bsky.app/profile/bazlur.ca" target="_blank" rel="noopener" class="social-link bluesky"> <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor"><path d="M12 11.388c-.906-1.761-3.372-5.044-5.665-6.662-2.197-1.552-3.48-1.415-4.068-.936-.786.641-.581 2.039-.241 3.121.269.857 1.135 3.24 1.135 3.24s-3.999 1.395-4.077 4.106c-.04 1.4.52 2.416 1.492 3.029 3.174 2.001 5.503-2.192 7.301-3.79a.878.878 0 0 1 1.238 0c1.798 1.598 4.127 5.791 7.301 3.79.972-.613 1.532-1.629 1.492-3.029-.078-2.711-4.077-4.106-4.077-4.106s.866-2.383 1.135-3.24c.34-1.082.545-2.48-.241-3.121-.588-.479-1.871-.616-4.068.936C15.372 6.344 12.906 9.627 12 11.388z"/> </svg> Bluesky </a> <a href="https://github.com/rokon12" target="_blank" rel="noopener" class="social-link github"> <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/> </svg> GitHub </a> <a href="https://www.infoq.com/profile/A-N-M-Bazlur-Rahman/#allActivity" target="_blank" rel="noopener" class="social-link infoq"> <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/> </svg> InfoQ </a></div></div><footer class="post-footer"><div class="post-tags-footer"><h4>Topics covered in this article:</h4><div class="post-tags-list"> <a href="/tags/sealed%20classes/" class="post-tag-pill">sealed classes</a> <a href="/tags/java%2015/" class="post-tag-pill">java 15</a> <a href="/tags/design%20patterns/" class="post-tag-pill">design patterns</a> <a href="/tags/type%20safety/" class="post-tag-pill">type safety</a> <a href="/tags/inheritance%20control/" class="post-tag-pill">inheritance control</a></div></div><div class="post-meta-footer"><p><em>Article archived on August 05, 2025 at 10:24 PM</em></p></div><div class="post-nav"> <a class="prev" href="/2023/02/01/optional-in-java-a-swiss-army-knife-for-handling-nulls-and-improving-code-quality/"> <span style="font-size: 0.9rem; color: #6b7280;">← Previous</span><br> <strong>Optional in Java: A Swiss Army Knife for Handli...</strong> </a> <a class="next" href="/2023/02/27/java-friends-and-cold-weather-my-adventure-at-confoo-conference/"> <span style="font-size: 0.9rem; color: #6b7280;">Next →</span><br> <strong>Java, Friends, and Cold Weather: My Adventure a...</strong> </a></div></footer><div class="share-buttons"><h3 class="share-title">Share this article</h3><div class="share-buttons-grid"> <button class="share-button share-twitter" onclick="shareOnTwitter('Java Sealed Classes in Action: Building Robust and Secure Applications', 'http://localhost:4001/2023/02/20/java-sealed-classes-in-action-building-robust-and-secure-applications/')" aria-label="Share on Twitter"> <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/> </svg> <span>Twitter</span> </button> <button class="share-button share-linkedin" onclick="shareOnLinkedIn('Java Sealed Classes in Action: Building Robust and Secure Applications', 'http://localhost:4001/2023/02/20/java-sealed-classes-in-action-building-robust-and-secure-applications/')" aria-label="Share on LinkedIn"> <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/> </svg> <span>LinkedIn</span> </button> <button class="share-button share-copy" onclick="copyToClipboard('http://localhost:4001/2023/02/20/java-sealed-classes-in-action-building-robust-and-secure-applications/')" aria-label="Copy link"> <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" width="20" height="20"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> <span>Copy Link</span> </button> <button class="share-button share-email" onclick="shareViaEmail('Java Sealed Classes in Action: Building Robust and Secure Applications', 'http://localhost:4001/2023/02/20/java-sealed-classes-in-action-building-robust-and-secure-applications/')" aria-label="Share via email"> <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" width="20" height="20"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline> </svg> <span>Email</span> </button> <button class="share-button share-reddit" onclick="shareOnReddit('Java Sealed Classes in Action: Building Robust and Secure Applications', 'http://localhost:4001/2023/02/20/java-sealed-classes-in-action-building-robust-and-secure-applications/')" aria-label="Share on Reddit"> <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20"><path d="M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968 0 1.754.786 1.754 1.754 0 .716-.435 1.333-1.01 1.614a3.111 3.111 0 0 1 .042.52c0 2.694-3.13 4.87-7.004 4.87-3.874 0-7.004-2.176-7.004-4.87 0-.183.015-.366.043-.534A1.748 1.748 0 0 1 4.028 12c0-.968.786-1.754 1.754-1.754.463 0 .898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342 0 0 1 .14-.197.35.35 0 0 1 .238-.042l2.906.617a1.214 1.214 0 0 1 1.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687 0 1.248-.561 1.248-1.249 0-.688-.561-1.249-1.249-1.249zm5.5 0c-.687 0-1.248.561-1.248 1.25 0 .687.561 1.248 1.249 1.248.688 0 1.249-.561 1.249-1.249 0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327 0 0 0-.231.094.33.33 0 0 0 0 .463c.842.842 2.484.913 2.961.913.477 0 2.105-.056 2.961-.913a.361.361 0 0 0 .029-.463.33.33 0 0 0-.464 0c-.547.533-1.684.73-2.512.73-.828 0-1.979-.196-2.512-.73a.326.326 0 0 0-.232-.095z"/> </svg> <span>Reddit</span> </button> <button class="share-button share-hackernews" onclick="shareOnHackerNews('Java Sealed Classes in Action: Building Robust and Secure Applications', 'http://localhost:4001/2023/02/20/java-sealed-classes-in-action-building-robust-and-secure-applications/')" aria-label="Share on Hacker News"> <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20"><path d="M0 0v24h24V0H0zm12.8 17.7h-1.6v-5.5L8.4 6.3H10l1.8 4.1.2.5.2-.5 1.8-4.1h1.6l-2.8 5.9v5.5z"/> </svg> <span>HN</span> </button></div><button class="share-button share-native" onclick="nativeShare('Java Sealed Classes in Action: Building Robust and Secure Applications', ' ', 'http://localhost:4001/2023/02/20/java-sealed-classes-in-action-building-robust-and-secure-applications/')" aria-label="Share"> <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" width="20" height="20"> <circle cx="18" cy="5" r="3"></circle> <circle cx="6" cy="12" r="3"></circle> <circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line> </svg> <span>Share</span> </button></div><div class="share-toast" id="share-toast"> <span class="share-toast-message"></span></div><script> // Share on Twitter/X function shareOnTwitter(title, url) { const text = encodeURIComponent(title); const shareUrl = encodeURIComponent(url); window.open(`https://twitter.com/intent/tweet?text=${text}&url=${shareUrl}`, '_blank', 'width=550,height=450'); trackShare('twitter'); } // Share on LinkedIn function shareOnLinkedIn(title, url) { const shareUrl = encodeURIComponent(url); window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${shareUrl}`, '_blank', 'width=550,height=450'); trackShare('linkedin'); } // Share on Reddit function shareOnReddit(title, url) { const shareTitle = encodeURIComponent(title); const shareUrl = encodeURIComponent(url); window.open(`https://www.reddit.com/submit?title=${shareTitle}&url=${shareUrl}`, '_blank', 'width=850,height=550'); trackShare('reddit'); } // Share on HackerNews function shareOnHackerNews(title, url) { const shareTitle = encodeURIComponent(title); const shareUrl = encodeURIComponent(url); window.open(`https://news.ycombinator.com/submitlink?t=${shareTitle}&u=${shareUrl}`, '_blank', 'width=550,height=450'); trackShare('hackernews'); } // Share via Email function shareViaEmail(title, url) { const subject = encodeURIComponent(`Check out: ${title}`); const body = encodeURIComponent(`I thought you might find this interesting:\n\n${title}\n${url}\n\nFrom Bazlur's Archive`); window.location.href = `mailto:?subject=${subject}&body=${body}`; trackShare('email'); } // Copy to clipboard function copyToClipboard(url) { // Create temporary input element const temp = document.createElement('input'); temp.value = url; document.body.appendChild(temp); temp.select(); try { // Try modern API first if (navigator.clipboard) { navigator.clipboard.writeText(url).then(() => { showToast('Link copied to clipboard!'); animateCopyButton(); }); } else { // Fallback for older browsers document.execCommand('copy'); showToast('Link copied to clipboard!'); animateCopyButton(); } } catch (err) { showToast('Failed to copy link'); } document.body.removeChild(temp); trackShare('copy'); } // Native share API (mobile) function nativeShare(title, text, url) { if (navigator.share) { navigator.share({ title: title, text: text, url: url }).then(() => { trackShare('native'); }).catch((error) => { if (error.name !== 'AbortError') { console.log('Error sharing:', error); } }); } else { // Fallback to copy link copyToClipboard(url); } } // Show toast notification function showToast(message) { const toast = document.getElementById('share-toast'); const toastMessage = toast.querySelector('.share-toast-message'); toastMessage.textContent = message; toast.classList.add('show'); setTimeout(() => { toast.classList.remove('show'); }, 3000); } // Animate copy button function animateCopyButton() { const copyButton = document.querySelector('.share-copy'); copyButton.classList.add('copied'); // Change icon temporarily const span = copyButton.querySelector('span'); const originalText = span.textContent; span.textContent = 'Copied!'; setTimeout(() => { copyButton.classList.remove('copied'); span.textContent = originalText; }, 2000); } // Track share events (for analytics if needed) function trackShare(platform) { console.log(`Shared on ${platform}`); // You can add analytics tracking here } // Show native share button only if supported document.addEventListener('DOMContentLoaded', function() { const nativeButton = document.querySelector('.share-native'); if (!navigator.share) { nativeButton.style.display = 'none'; } else { // Hide native button on desktop if (window.innerWidth > 768) { nativeButton.style.display = 'none'; } } }); </script><style> .share-buttons { margin: 40px 0; padding: 30px; background: linear-gradient(135deg, rgba(102, 126, 234, 0.05), rgba(118, 75, 162, 0.05)); border: 1px solid rgba(102, 126, 234, 0.2); border-radius: 16px; } .share-title { font-size: 18px; margin-bottom: 20px; color: #667eea; font-family: 'JetBrains Mono', monospace; text-align: center; } .share-buttons-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 12px; max-width: 600px; margin: 0 auto; } .share-button { display: flex; align-items: center; justify-content: center; gap: 8px; padding: 12px 16px; background: #1a1a2e; border: 2px solid #313244; border-radius: 12px; color: #ccc; font-size: 14px; font-family: 'JetBrains Mono', monospace; cursor: pointer; transition: all 0.3s ease; position: relative; overflow: hidden; } .share-button::before { content: ''; position: absolute; top: 50%; left: 50%; width: 0; height: 0; border-radius: 50%; background: rgba(102, 126, 234, 0.3); transform: translate(-50%, -50%); transition: width 0.6s, height 0.6s; } .share-button:hover::before { width: 300px; height: 300px; } .share-button:hover { transform: translateY(-2px); border-color: #667eea; color: #fff; box-shadow: 0 8px 16px rgba(102, 126, 234, 0.2); } .share-button svg { position: relative; z-index: 1; } .share-button span { position: relative; z-index: 1; } /* Platform-specific colors on hover */ .share-twitter:hover { border-color: #1DA1F2; color: #1DA1F2; } .share-linkedin:hover { border-color: #0077B5; color: #0077B5; } .share-reddit:hover { border-color: #FF4500; color: #FF4500; } .share-hackernews:hover { border-color: #FF6600; color: #FF6600; } .share-email:hover { border-color: #764ba2; color: #764ba2; } .share-copy:hover, .share-copy.copied { border-color: #10b981; color: #10b981; } .share-copy.copied { animation: successPulse 0.5s ease; } @keyframes successPulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } } /* Native share button (mobile) */ .share-native { display: none; width: 100%; background: linear-gradient(135deg, #667eea, #764ba2); border: none; color: white; font-weight: 600; margin-top: 12px; } .share-native:hover { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3); } /* Toast notification */ .share-toast { position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%) translateY(100px); background: linear-gradient(135deg, #667eea, #764ba2); color: white; padding: 16px 24px; border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3); z-index: 10000; opacity: 0; transition: all 0.3s ease; font-family: 'JetBrains Mono', monospace; } .share-toast.show { opacity: 1; transform: translateX(-50%) translateY(0); } /* Mobile responsive */ @media (max-width: 768px) { .share-buttons-grid { grid-template-columns: repeat(3, 1fr); } .share-native { display: flex; } .share-button span { display: none; } .share-button { padding: 12px; } } /* Dark theme adjustments */ [data-theme="dracula"] .share-button, [data-theme="nord"] .share-button, [data-theme="monokai"] .share-button { background: var(--bg-secondary); border-color: var(--accent); } /* Print styles */ @media print { .share-buttons { display: none; } }</style><div class="related-posts-section"><h2 class="related-posts-header"> <span class="gradient-text">Related Articles</span></h2><p class="no-related-posts">No related articles found. Check back later for more content!</p></div></div></article></main><footer class="site-footer"><div class="footer-content"><p>A comprehensive archive of articles on Java, Software Development, and Technology</p><p>© 2025 A N M Bazlur Rahman. All articles are archived from <a href="https://bazlur.ca">bazlur.ca</a></p><p> <a href="/feed.xml">RSS Feed</a> • <a href="https://twitter.com/bazlur_rahman">Twitter</a> • <a href="https://github.com/rokon12">GitHub</a></p></div></footer><script> // Fade-in animations on scroll document.addEventListener('DOMContentLoaded', function() { const observerOptions = { threshold: 0.1, rootMargin: '0px 0px -100px 0px' }; const observer = new IntersectionObserver(function(entries) { entries.forEach(entry => { if (entry.isIntersecting) { entry.target.classList.add('visible'); observer.unobserve(entry.target); } }); }, observerOptions); // Observe fade-in elements document.querySelectorAll('.fade-in, .fade-in-up, .fade-in-left, .fade-in-right, .stagger-animation').forEach(el => { observer.observe(el); }); // Add fade-in classes to post cards document.querySelectorAll('.post-card').forEach((card, index) => { card.classList.add('fade-in-up'); card.style.transitionDelay = `${index * 0.1}s`; }); // Removed duplicate image observer - handled by image-optimization.js }); </script> <script defer src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" data-manual></script> <script defer src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script> <script defer src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script> <script defer src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.js"></script> <script defer src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"></script> <script defer src="/assets/js/prism-setup.js"></script> <script defer src="/assets/js/terminal.js"></script> <script defer src="/assets/js/image-optimization.js"></script> <script> if ('loading' in HTMLImageElement.prototype) { const images = document.querySelectorAll('img[loading="lazy"]'); images.forEach(img => { img.src = img.dataset.src || img.src; }); } else { // Fallback for browsers that don't support lazy loading const script = document.createElement('script'); script.src = 'https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.3.2/lazysizes.min.js'; document.body.appendChild(script); } </script><div class="reading-progress" id="reading-progress"></div><script> document.addEventListener('scroll', function() { const winScroll = document.body.scrollTop || document.documentElement.scrollTop; const height = document.documentElement.scrollHeight - document.documentElement.clientHeight; const scrolled = (winScroll / height) * 100; document.getElementById("reading-progress").style.width = scrolled + "%"; }); </script> <script> document.addEventListener('DOMContentLoaded', function() { // Mobile menu toggle const mobileMenuToggle = document.querySelector('.mobile-menu-toggle'); const siteNav = document.querySelector('.site-nav'); if (mobileMenuToggle) { mobileMenuToggle.addEventListener('click', function() { const isExpanded = this.getAttribute('aria-expanded') === 'true'; this.setAttribute('aria-expanded', !isExpanded); siteNav.classList.toggle('is-active'); document.body.classList.toggle('menu-open'); }); // Close menu when clicking outside document.addEventListener('click', function(e) { if (!e.target.closest('.site-header') && siteNav.classList.contains('is-active')) { mobileMenuToggle.setAttribute('aria-expanded', 'false'); siteNav.classList.remove('is-active'); document.body.classList.remove('menu-open'); } }); } // Initialize theme const savedTheme = localStorage.getItem('theme') || 'dark'; document.documentElement.setAttribute('data-theme', savedTheme); // Global search shortcut document.addEventListener('keydown', function(e) { // Focus search with / if (e.key === '/' && !e.metaKey && !e.ctrlKey) { const searchInput = document.querySelector('.quick-search-input') || document.querySelector('#search-input'); if (searchInput && document.activeElement !== searchInput) { e.preventDefault(); searchInput.focus(); document.body.classList.add('search-focused'); } } // Clear focus on ESC if (e.key === 'Escape') { const searchInput = document.querySelector('.quick-search-input') || document.querySelector('#search-input'); if (searchInput && document.activeElement === searchInput) { searchInput.blur(); searchInput.value = ''; document.body.classList.remove('search-focused'); } } }); }); </script> <button class="back-to-top" id="back-to-top" aria-label="Back to top"> <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="18 15 12 9 6 15"></polyline> </svg> </button> <script> document.addEventListener('DOMContentLoaded', function() { const backToTopButton = document.getElementById('back-to-top'); // Show/hide button based on scroll position function toggleBackToTop() { if (window.scrollY > 300) { backToTopButton.classList.add('visible'); } else { backToTopButton.classList.remove('visible'); } } // Throttle scroll events let isScrolling = false; window.addEventListener('scroll', function() { if (!isScrolling) { window.requestAnimationFrame(function() { toggleBackToTop(); isScrolling = false; }); isScrolling = true; } }); // Smooth scroll to top backToTopButton.addEventListener('click', function() { window.scrollTo({ top: 0, behavior: 'smooth' }); }); // Initial check toggleBackToTop(); }); </script> <script> if ('serviceWorker' in navigator) { window.addEventListener('load', function() { navigator.serviceWorker.register('/sw.js').then(function(registration) { console.log('ServiceWorker registration successful'); }, function(err) { console.log('ServiceWorker registration failed: ', err); }); }); } </script>